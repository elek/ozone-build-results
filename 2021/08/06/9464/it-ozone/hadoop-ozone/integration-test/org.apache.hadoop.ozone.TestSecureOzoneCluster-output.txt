2021-08-06 01:53:24,946 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:53:24,948 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:53:24,949 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:53:24,949 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:53:24,949 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:53:24,949 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:53:24,953 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:53:24,953 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:53:24,954 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:53:24,954 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:53:24,955 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:53:24,955 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:53:24,955 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:53:24,955 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:53:24,955 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:53:24,959 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:53:24,961 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:53:24,962 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:53:25,042 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:53:26,078 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:26,115 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:53:26,124 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:53:26,124 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:53:26,126 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:53:26,261 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:53:26,549 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:26,549 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:26,549 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:26,550 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:26,709 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:26,710 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:26,710 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:26,710 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:26,712 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:6cb47ab2-7cb0-49d0-8578-9f274aa2ef04,clusterId:75e97d81-b513-41bc-b6ee-d5d5c1d4ccb4,subject:scm-sub@fv-az291-799
2021-08-06 01:53:26,776 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:53:26,823 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:53:26,823 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:53:26,860 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:26,862 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:53:27,068 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 121 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:53:27,136 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit3359711919946909888/junit4263524481946970451/scm-meta/scm/sub-ca/certs.
2021-08-06 01:53:27,138 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit3359711919946909888/junit4263524481946970451/scm-meta/scm/sub-ca/certs/3824487444904.crt.
2021-08-06 01:53:27,143 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit3359711919946909888/junit4263524481946970451/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:53:27,145 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit3359711919946909888/junit4263524481946970451/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:53:27,198 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:27,205 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:27,244 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214807242,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:27,253 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:27,253 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:53:27,280 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:27,402 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:27,569 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:53:27,569 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:53:27,613 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:53:27,614 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:53:27,616 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:53:27,618 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:53:27,658 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:53:27,667 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:53:27,676 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:53:27,705 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:53:27,710 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:53:27,710 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:53:27,737 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:53:27,750 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:53:27,762 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:53:27,764 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:53:27,779 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:53:27,779 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 9 milliseconds for processing 0 containers.
2021-08-06 01:53:27,783 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:53:27,785 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:53:27,798 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:27,799 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:27,800 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3824487444904 on primary SCM
2021-08-06 01:53:27,803 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:53:27,837 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:27,878 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:53:28,281 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:28,282 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:53:28,298 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:28,299 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:53:28,337 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:28,338 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:53:28,389 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:53:28,389 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:53:28,390 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:53:28,394 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1246)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-08-06 01:53:28,463 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-08-06 01:53:28,478 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-08-06 01:53:28,479 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-08-06 01:53:28,756 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(165)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-08-06 01:53:28,758 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:28,812 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1261)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-08-06 01:53:28,813 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-08-06 01:53:28,832 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1267)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-08-06 01:53:28,832 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-08-06 01:53:28,859 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(393)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-08-06 01:53:28,860 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-08-06 01:53:28,864 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9961: starting
2021-08-06 01:53:28,864 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:28,879 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9861: starting
2021-08-06 01:53:28,879 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:28,881 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9863: starting
2021-08-06 01:53:28,881 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:28,882 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9860: starting
2021-08-06 01:53:29,180 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@a322dfd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-08-06 01:53:29,188 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-08-06 01:53:29,188 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-08-06 01:53:29,217 [Listener at 0.0.0.0/9860] INFO  util.log (Log.java:initialized(169)) - Logging initialized @5704ms to org.eclipse.jetty.util.log.Slf4jLog
2021-08-06 01:53:29,346 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-08-06 01:53:29,350 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-08-06 01:53:29,354 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-08-06 01:53:29,357 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-08-06 01:53:29,357 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-08-06 01:53:29,357 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-08-06 01:53:29,396 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1239)) - Jetty bound to port 9876
2021-08-06 01:53:29,398 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-08-06 01:53:29,428 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-08-06 01:53:29,428 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-08-06 01:53:29,430 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-08-06 01:53:29,443 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@5931d91f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-08-06 01:53:29,444 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6cf2de03{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-08-06 01:53:29,489 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@46cc2252{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:53:29,501 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@26b78852{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:53:29,502 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @5989ms
2021-08-06 01:53:29,504 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-08-06 01:53:29,504 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-08-06 01:53:29,507 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-08-06 01:53:29,519 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:29,519 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:29,535 [pool-1-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214809535,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:29,762 [pool-1-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1628214809759,test for scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM
2021-08-06 01:53:29,787 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.44:33220
2021-08-06 01:53:29,951 [IPC Server handler 1 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getCertificate(276)) - Certificate with serial id 100 not found.
2021-08-06 01:53:29,963 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(782)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:179)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:392)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:623)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:414)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:832)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:828)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:828)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:414)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1647)
	at org.apache.hadoop.ipc.Client.call(Client.java:1463)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy39.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy39.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.submitRequest(SCMSecurityProtocolClientSideTranslatorPB.java:106)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCACert(SCMSecurityProtocolClientSideTranslatorPB.java:284)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCACertificate(SCMSecurityProtocolClientSideTranslatorPB.java:277)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSCMSecurityProtocol(TestSecureOzoneCluster.java:324)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:29,976 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(782)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:179)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:392)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:623)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:414)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:832)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:828)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:828)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:414)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1647)
	at org.apache.hadoop.ipc.Client.call(Client.java:1463)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy39.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy39.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.submitRequest(SCMSecurityProtocolClientSideTranslatorPB.java:106)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCertificate(SCMSecurityProtocolClientSideTranslatorPB.java:243)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.lambda$testSCMSecurityProtocol$1(TestSecureOzoneCluster.java:327)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSCMSecurityProtocol(TestSecureOzoneCluster.java:326)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:29,979 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:53:29,982 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:53:29,982 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:53:29,982 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:53:29,983 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:53:29,983 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:53:29,983 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:53:30,015 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9861
2021-08-06 01:53:30,015 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:30,658 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:53:30,660 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:53:30,660 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:53:30,660 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:53:30,667 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:30,667 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:53:30,667 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9863
2021-08-06 01:53:30,667 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:53:30,667 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:53:30,694 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9860
2021-08-06 01:53:30,695 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:30,696 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:53:30,705 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@46cc2252{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:53:30,716 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@26b78852{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:53:30,716 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-08-06 01:53:30,717 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6cf2de03{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-08-06 01:53:30,718 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@5931d91f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-08-06 01:53:30,721 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:53:30,721 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:53:30,722 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9961
2021-08-06 01:53:30,724 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:30,724 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:53:30,735 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(85)) - SCMUpdateService stopped!
2021-08-06 01:53:30,736 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:53:30,736 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:30,741 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:30,741 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:53:30,743 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:53:30,744 [Listener at 0.0.0.0/9860] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:53:30,744 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:53:30,746 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-08-06 01:53:30,747 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-08-06 01:53:30,748 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-08-06 01:53:30,749 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(327)) - Replication Monitor Thread is not running.
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:53:31,750 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:53:31,751 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:53:31,751 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:53:31,751 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:53:31,751 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:53:31,751 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:53:31,751 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:53:31,751 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:53:31,752 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:53:31,753 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-08-06 01:53:31,753 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:53:31,753 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-08-06 01:53:31,776 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:53:31,776 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:53:31,776 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:53:31,777 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:53:31,777 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:53:31,777 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:53:31,777 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:53:31,777 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:53:31,777 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:53:31,778 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:53:31,787 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:53:32,355 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:32,356 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:53:32,356 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:53:32,356 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:53:32,356 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:53:32,610 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:53:32,700 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:32,700 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:32,700 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:32,700 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:32,706 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:32,706 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:32,706 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:32,707 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:32,707 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:44415c9e-e19f-4fc0-8a4f-6acda3f4ecc1,clusterId:3acda95c-3d1c-44d3-aeb8-71971bd86137,subject:scm-sub@fv-az291-799
2021-08-06 01:53:32,720 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:53:32,724 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:53:32,724 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:53:32,724 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:32,725 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:53:32,782 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 54 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:53:32,785 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/scm/sub-ca/certs.
2021-08-06 01:53:32,787 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/scm/sub-ca/certs/3830448280033.crt.
2021-08-06 01:53:32,789 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:53:32,791 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:53:32,794 [pool-22-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:32,794 [pool-22-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:32,804 [pool-22-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214812803,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:32,806 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:32,806 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:53:32,806 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:32,806 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:32,881 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:53:32,881 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:53:32,884 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:53:32,884 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:53:32,884 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:53:32,884 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:53:32,885 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:53:32,886 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:53:32,886 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:53:32,886 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:53:32,886 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:53:32,886 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:53:32,887 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:53:32,888 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:53:32,888 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:53:32,889 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:53:32,889 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:53:32,890 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:53:32,890 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:53:32,890 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:32,895 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-08-06 01:53:32,896 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:32,896 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3830448280033 on primary SCM
2021-08-06 01:53:32,897 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:53:32,898 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:32,899 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:53:32,900 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:32,904 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:32,905 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:53:32,907 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:53:32,908 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:32,912 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:53:32,948 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:53:32,949 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:53:32,950 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:53:32,950 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1246)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-08-06 01:53:32,952 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-08-06 01:53:32,953 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-08-06 01:53:32,953 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-08-06 01:53:32,959 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-08-06 01:53:32,959 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-08-06 01:53:32,985 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(165)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-08-06 01:53:32,985 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:32,988 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9860: starting
2021-08-06 01:53:33,005 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1261)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-08-06 01:53:33,006 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-08-06 01:53:33,007 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:33,007 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9863: starting
2021-08-06 01:53:33,024 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1267)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-08-06 01:53:33,024 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-08-06 01:53:33,028 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:33,031 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9861: starting
2021-08-06 01:53:33,045 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(393)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-08-06 01:53:33,047 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:33,052 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9961: starting
2021-08-06 01:53:33,056 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-08-06 01:53:33,065 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@268ae9f1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-08-06 01:53:33,066 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-08-06 01:53:33,066 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-08-06 01:53:33,068 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-08-06 01:53:33,068 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-08-06 01:53:33,069 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-08-06 01:53:33,070 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-08-06 01:53:33,070 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-08-06 01:53:33,070 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-08-06 01:53:33,071 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1239)) - Jetty bound to port 9876
2021-08-06 01:53:33,071 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-08-06 01:53:33,079 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-08-06 01:53:33,079 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-08-06 01:53:33,080 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-08-06 01:53:33,081 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@259a3442{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-08-06 01:53:33,081 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@4b0d7191{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-08-06 01:53:33,087 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@32b70c7b{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:53:33,090 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1b94790a{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:53:33,091 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @9578ms
2021-08-06 01:53:33,091 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-08-06 01:53:33,092 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-08-06 01:53:33,093 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:33,101 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:33,104 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:33,104 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:33,104 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:33,107 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:33,109 [Listener at 0.0.0.0/9860] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:53:33,172 [Listener at 0.0.0.0/9860] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 59 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:53:33,179 [Listener at 0.0.0.0/9860] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:53:33,182 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:33,421 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:33,429 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:33,430 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:33,652 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4084)) - Created Volume s3v With Owner scm required for S3Gateway operations.
2021-08-06 01:53:33,718 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:33,718 [Listener at 0.0.0.0/9860] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:53:33,725 [Listener at 0.0.0.0/9860] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-08-06 01:53:33,746 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:33,776 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:53:33,784 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:53:33,813 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:53:33,818 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:53:33,821 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:53:33,822 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:33,822 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:53:33,822 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:33,823 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:33,823 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:53:33,824 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:33,825 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:53:33,825 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:53:33,877 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:53:33,880 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:33,880 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:33,893 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis] (custom)
2021-08-06 01:53:33,900 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@55fa3a86[Not completed]
2021-08-06 01:53:33,900 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:53:33,919 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:33,924 [pool-59-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:53:33,934 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:53:33,929 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:53:33,936 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:53:33,937 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:53:33,937 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:33,937 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:33,937 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:53:33,938 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:53:33,957 [pool-59-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:53:33,957 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis] (custom)
2021-08-06 01:53:33,962 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:53:33,963 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:53:33,965 [pool-59-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-08-06 01:53:33,968 [pool-59-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 22126@fv-az291-799
2021-08-06 01:53:33,974 [pool-59-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-08-06 01:53:33,977 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-08-06 01:53:33,978 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-08-06 01:53:33,986 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-08-06 01:53:33,986 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:33,991 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:33,991 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:33,991 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:33,991 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:33,995 [pool-22-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:33,995 [pool-22-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:34,191 [pool-22-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214814190,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:34,193 [Listener at localhost/1202] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:34,193 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:53:34,193 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:34,218 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:34,221 [pool-22-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1628214814220,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net for scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM
2021-08-06 01:53:34,240 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-08-06 01:53:34,240 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-08-06 01:53:34,246 [pool-59-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:53:34,246 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:53:34,246 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-08-06 01:53:34,252 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:34,252 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-08-06 01:53:34,253 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-08-06 01:53:34,259 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-08-06 01:53:34,259 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-08-06 01:53:34,260 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-08-06 01:53:34,262 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.44:45873
2021-08-06 01:53:34,276 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-08-06 01:53:34,278 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-08-06 01:53:34,285 [pool-59-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:34,304 [pool-59-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:34,318 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-08-06 01:53:34,319 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-08-06 01:53:34,320 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-08-06 01:53:34,321 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-08-06 01:53:34,327 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-08-06 01:53:34,328 [pool-59-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-08-06 01:53:34,346 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:omInit(1070)) - OM storage is already initialized. Initializing security
2021-08-06 01:53:34,346 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1090)) - Initializing secure OzoneManager.
2021-08-06 01:53:34,347 [Listener at localhost/1202] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:53:34,347 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:53:34,348 [Listener at localhost/1202] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(65)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:53:34,647 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1096)) - Init response: GETCERT
2021-08-06 01:53:34,647 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:34,647 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:34,647 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:34,648 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:34,648 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:34,648 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:34,648 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:34,649 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:34,649 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1710)) - Creating csr for OM->dns:localhost,ip:127.0.0.1,scmId:44415c9e-e19f-4fc0-8a4f-6acda3f4ecc1,clusterId:3acda95c-3d1c-44d3-aeb8-71971bd86137,subject:scm@localhost
2021-08-06 01:53:34,661 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1726)) - OzoneManager ports added:[name: "RPC"
value: 1202
]
2021-08-06 01:53:34,684 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.44:44899
2021-08-06 01:53:34,694 [IPC Server handler 1 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(164)) - Processing CSR for om localhost, UUID: 25ba0b59-b631-48a9-a1e9-146ea1be3639
2021-08-06 01:53:34,712 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1103)) - Successfully stored SCM signed certificate.
OM already initialized.Reusing existing cluster id for sd=/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/om;cid=3acda95c-3d1c-44d3-aeb8-71971bd86137;layoutVersion=0
2021-08-06 01:53:34,713 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:34,713 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:34,715 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:53:34,715 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:53:34,717 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:34,717 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:34,717 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:34,717 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:34,717 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:34,718 [Listener at localhost/1202] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:53:34,767 [Listener at localhost/1202] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 48 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:53:34,768 [Listener at localhost/1202] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:53:34,773 [pool-22-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:34,773 [pool-22-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:34,777 [pool-22-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214814776,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:34,778 [Listener at localhost/1202] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:34,778 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:53:34,778 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:34,779 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/om/certs.
2021-08-06 01:53:34,784 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/om/certs/ROOTCA-1.crt.
2021-08-06 01:53:34,786 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/om/certs/CA-3830448280033.crt.
2021-08-06 01:53:34,788 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/om/certs/3832435415043.crt.
2021-08-06 01:53:34,789 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:34,791 [Listener at localhost/1202] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:34,791 [Listener at localhost/1202] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:34,859 [Listener at localhost/1202] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-08-06 01:53:34,859 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-08-06 01:53:34,859 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:34,859 [Listener at localhost/1202] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:53:34,860 [Listener at localhost/1202] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:53:34,860 [Listener at localhost/1202] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:53:34,860 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:34,862 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:53:34,864 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:53:34,867 [Listener at localhost/1202] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:53:34,868 [Listener at localhost/1202] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:53:34,868 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:53:34,868 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:34,868 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:53:34,868 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:34,868 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:34,868 [Listener at localhost/1202] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:53:34,869 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:34,869 [Listener at localhost/1202] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:53:34,869 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:53:34,870 [Listener at localhost/1202] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:53:34,870 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:34,871 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:34,871 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis] (custom)
2021-08-06 01:53:34,871 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - om1: found a subdirectory /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:53:34,872 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@253fdb2a[Not completed]
2021-08-06 01:53:34,872 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:53:34,882 [Listener at localhost/1202] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:34,883 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:53:34,879 [pool-80-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:53:34,903 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:53:34,904 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:53:34,904 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:53:34,904 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:34,905 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:34,905 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:53:34,905 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:53:34,905 [pool-80-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:53:34,905 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis] (custom)
2021-08-06 01:53:34,905 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:53:34,905 [pool-80-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:53:34,908 [pool-80-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:34,911 [pool-80-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 15 more
2021-08-06 01:53:34,936 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:53:34,937 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:53:34,937 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:53:34,937 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:53:34,937 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:53:34,937 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:53:34,937 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:53:34,950 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9861
2021-08-06 01:53:34,950 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:35,885 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:53:35,886 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:53:35,886 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:53:35,886 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:53:35,892 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:35,893 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9863
2021-08-06 01:53:35,892 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:53:35,897 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:53:35,897 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:53:35,903 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:35,903 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:53:35,904 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9860
2021-08-06 01:53:35,904 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@32b70c7b{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:53:35,905 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1b94790a{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:53:35,905 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-08-06 01:53:35,906 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@4b0d7191{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-08-06 01:53:35,906 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@259a3442{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-08-06 01:53:35,908 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:53:35,908 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:53:35,908 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9961
2021-08-06 01:53:35,909 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:35,909 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:53:35,910 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(85)) - SCMUpdateService stopped!
2021-08-06 01:53:35,910 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:53:35,910 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:35,911 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:35,911 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:53:35,912 [pool-80-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:35,913 [pool-80-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 15 more
2021-08-06 01:53:35,914 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:53:35,914 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:53:35,914 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:53:35,915 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-08-06 01:53:35,921 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-08-06 01:53:35,921 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-08-06 01:53:35,922 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:53:36,914 [pool-80-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:36,914 [pool-80-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 15 more
2021-08-06 01:53:36,922 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:53:36,922 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:53:36,922 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(327)) - Replication Monitor Thread is not running.
2021-08-06 01:53:36,922 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:53:36,922 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:53:36,922 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:53:36,922 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:53:36,922 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:36,923 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:36,924 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:53:36,924 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:53:36,924 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-08-06 01:53:36,924 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:53:36,924 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-08-06 01:53:36,924 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:36,924 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:37,915 [pool-80-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:37,916 [pool-80-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 15 more
2021-08-06 01:53:38,916 [pool-80-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /tmp/junit4098924441326792089/junit206648199541119420/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:97)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:67)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:52)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:114)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:194)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:38,917 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:53:38,917 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:53:38,917 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:53:38,939 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:53:38,940 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:53:38,940 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:53:38,940 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:53:38,940 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:53:38,940 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:53:38,940 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:53:38,940 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:53:38,941 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:53:38,946 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:53:39,212 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:39,213 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:53:39,214 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:53:39,214 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:53:39,214 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:53:39,563 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:53:39,694 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:39,694 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:39,694 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:39,694 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:39,699 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:39,699 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:39,699 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:39,699 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:39,700 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:556d5b54-58dc-4c1a-be99-4ba5016d76dc,clusterId:e8b92711-445b-4da9-a28c-c326f5e2ef1e,subject:scm-sub@fv-az291-799
2021-08-06 01:53:39,710 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:53:39,713 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:53:39,713 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:53:39,714 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:39,714 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:53:39,756 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 40 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:53:39,758 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/scm/sub-ca/certs.
2021-08-06 01:53:39,760 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/scm/sub-ca/certs/3837439761117.crt.
2021-08-06 01:53:39,762 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:53:39,763 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:53:39,769 [pool-82-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:39,769 [pool-82-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:39,785 [pool-82-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214819782,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:39,788 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:39,788 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:53:39,788 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:39,789 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:39,868 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:53:39,869 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:53:39,871 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:53:39,872 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:53:39,872 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:53:39,872 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:53:39,872 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:53:39,873 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:53:39,873 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:53:39,873 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:53:39,873 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:53:39,874 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:53:39,874 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:53:39,875 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:53:39,875 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:53:39,875 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:53:39,880 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:53:39,881 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:53:39,881 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:53:39,881 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:39,882 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:39,883 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3837439761117 on primary SCM
2021-08-06 01:53:39,884 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:53:39,884 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:39,886 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-08-06 01:53:39,886 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:53:39,888 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:39,891 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:53:39,892 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:39,895 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:53:39,900 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:39,900 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:53:39,919 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:53:39,919 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:53:39,919 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:53:39,919 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1246)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-08-06 01:53:39,921 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-08-06 01:53:39,922 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-08-06 01:53:39,922 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-08-06 01:53:39,929 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-08-06 01:53:39,929 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-08-06 01:53:39,954 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(165)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-08-06 01:53:39,956 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:39,956 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9860: starting
2021-08-06 01:53:39,975 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1261)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-08-06 01:53:39,975 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-08-06 01:53:39,977 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:39,983 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9863: starting
2021-08-06 01:53:40,001 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1267)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-08-06 01:53:40,001 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-08-06 01:53:40,001 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:40,004 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9861: starting
2021-08-06 01:53:40,017 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(393)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-08-06 01:53:40,017 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:40,020 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9961: starting
2021-08-06 01:53:40,023 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-08-06 01:53:40,028 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6beb300a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-08-06 01:53:40,028 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-08-06 01:53:40,029 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-08-06 01:53:40,031 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-08-06 01:53:40,036 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-08-06 01:53:40,037 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-08-06 01:53:40,039 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-08-06 01:53:40,039 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-08-06 01:53:40,039 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-08-06 01:53:40,040 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1239)) - Jetty bound to port 9876
2021-08-06 01:53:40,043 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-08-06 01:53:40,056 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-08-06 01:53:40,056 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-08-06 01:53:40,057 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-08-06 01:53:40,057 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6a7313e3{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-08-06 01:53:40,060 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@7816a0a2{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-08-06 01:53:40,064 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@6fb348ae{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:53:40,064 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4bbdfc8c{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:53:40,065 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @16552ms
2021-08-06 01:53:40,065 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-08-06 01:53:40,067 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-08-06 01:53:40,067 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:40,067 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1090)) - Initializing secure OzoneManager.
2021-08-06 01:53:40,069 [Listener at 0.0.0.0/9860] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:53:40,070 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:53:40,070 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(65)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:53:40,166 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1096)) - Init response: GETCERT
2021-08-06 01:53:40,167 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:40,167 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:40,167 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:40,167 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:40,167 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:40,168 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:40,168 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:40,168 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:40,168 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1710)) - Creating csr for OM->dns:localhost,ip:127.0.0.1,scmId:556d5b54-58dc-4c1a-be99-4ba5016d76dc,clusterId:e8b92711-445b-4da9-a28c-c326f5e2ef1e,subject:scm@localhost
2021-08-06 01:53:40,172 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1726)) - OzoneManager ports added:[name: "RPC"
value: 1202
]
2021-08-06 01:53:40,184 [pool-82-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1628214820184,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net for scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM
2021-08-06 01:53:40,201 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.44:36569
2021-08-06 01:53:40,213 [IPC Server handler 0 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(164)) - Processing CSR for om localhost, UUID: 166a91a9-06aa-43e5-b4cb-b3e0c8e08ef3
2021-08-06 01:53:40,225 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1103)) - Successfully stored SCM signed certificate.
2021-08-06 01:53:40,226 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:40,227 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:40,227 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:40,227 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:40,227 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:40,227 [Listener at 0.0.0.0/9860] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:53:40,275 [Listener at 0.0.0.0/9860] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 47 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:53:40,275 [Listener at 0.0.0.0/9860] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:53:40,280 [pool-82-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:40,280 [pool-82-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:40,288 [pool-82-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214820287,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:40,289 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file om.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:40,289 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:53:40,289 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:40,291 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/om/certs.
2021-08-06 01:53:40,293 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/om/certs/ROOTCA-1.crt.
2021-08-06 01:53:40,294 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/om/certs/CA-3837439761117.crt.
2021-08-06 01:53:40,300 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/om/certs/3837951494036.crt.
2021-08-06 01:53:40,301 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:40,302 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:40,302 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:40,414 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-08-06 01:53:40,414 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-08-06 01:53:40,428 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4084)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-08-06 01:53:40,428 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:40,428 [Listener at 0.0.0.0/9860] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:53:40,428 [Listener at 0.0.0.0/9860] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:53:40,428 [Listener at 0.0.0.0/9860] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:53:40,428 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:40,430 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:53:40,430 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:53:40,430 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:53:40,431 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:53:40,431 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:53:40,431 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:40,431 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:53:40,432 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:40,432 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:40,432 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:53:40,432 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:40,432 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:53:40,432 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:53:40,434 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:53:40,434 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:40,434 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:40,434 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/ratis] (custom)
2021-08-06 01:53:40,434 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@567119b[Not completed]
2021-08-06 01:53:40,435 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:53:40,436 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:40,437 [pool-119-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:53:40,439 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:53:40,443 [pool-119-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:53:40,444 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/ratis] (custom)
2021-08-06 01:53:40,444 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:53:40,444 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:53:40,444 [pool-119-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-08-06 01:53:40,448 [pool-119-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 22126@fv-az291-799
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit7531800583208756994/junit1524154401686459514/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:53:40,450 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-08-06 01:53:40,451 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-08-06 01:53:40,452 [pool-119-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:40,452 [pool-119-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:40,458 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-08-06 01:53:40,458 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-08-06 01:53:40,458 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-08-06 01:53:40,458 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-08-06 01:53:40,458 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-08-06 01:53:40,458 [pool-119-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-08-06 01:53:40,480 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:53:40,480 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:53:40,480 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:53:40,480 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:53:40,480 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:53:40,481 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:53:40,481 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:53:40,489 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9861
2021-08-06 01:53:40,499 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:42,872 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:53:42,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:53:42,873 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:53:42,873 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:53:42,876 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:53:42,876 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:53:42,876 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:53:42,876 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:42,877 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9863
2021-08-06 01:53:42,884 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:42,884 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:53:42,884 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9860
2021-08-06 01:53:42,885 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@6fb348ae{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:53:42,885 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4bbdfc8c{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:53:42,886 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-08-06 01:53:42,886 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@7816a0a2{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-08-06 01:53:42,886 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6a7313e3{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-08-06 01:53:42,887 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:53:42,887 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:53:42,887 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9961
2021-08-06 01:53:42,887 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:53:42,887 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:42,888 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(85)) - SCMUpdateService stopped!
2021-08-06 01:53:42,888 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:53:42,888 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:42,889 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:42,889 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:53:42,890 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:53:42,890 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:53:42,890 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:53:42,891 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-08-06 01:53:42,894 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-08-06 01:53:42,894 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-08-06 01:53:42,894 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:42,894 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:42,894 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:53:42,895 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:53:42,895 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:53:42,896 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:42,896 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:42,896 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:53:42,897 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(327)) - Replication Monitor Thread is not running.
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:53:43,897 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:53:43,897 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:43,898 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:43,899 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:53:43,899 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:53:43,899 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-08-06 01:53:43,899 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:53:43,899 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-08-06 01:53:43,899 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:43,899 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:43,899 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:53:43,918 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:53:43,918 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:53:43,918 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:53:43,918 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:53:43,918 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:53:43,918 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:53:43,919 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:53:43,920 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:53:43,920 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:53:43,922 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:53:44,087 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,087 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:53:44,088 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:53:44,088 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:53:44,088 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:53:44,462 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:53:44,663 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:44,663 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:44,663 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:44,664 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:44,668 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:44,669 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:44,669 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:44,669 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:44,669 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:27b34c58-fb0a-4291-b33b-53f0fd0130a5,clusterId:d3317145-95a4-4afa-9692-d917166b9125,subject:scm-sub@fv-az291-799
2021-08-06 01:53:44,680 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:53:44,682 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:53:44,682 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:53:44,682 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,682 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:53:44,721 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 37 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:53:44,722 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4830200107621932320/junit981606760596402449/scm-meta/scm/sub-ca/certs.
2021-08-06 01:53:44,724 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4830200107621932320/junit981606760596402449/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:53:44,726 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4830200107621932320/junit981606760596402449/scm-meta/scm/sub-ca/certs/3842409802095.crt.
2021-08-06 01:53:44,727 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4830200107621932320/junit981606760596402449/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:53:44,730 [pool-120-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:44,730 [pool-120-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:44,741 [pool-120-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214824740,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:44,742 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:44,742 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:53:44,742 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,743 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,824 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:53:44,824 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:53:44,827 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:53:44,827 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:53:44,827 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:53:44,827 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:53:44,828 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:53:44,828 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:53:44,828 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:53:44,829 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:53:44,829 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:53:44,829 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:53:44,830 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:53:44,831 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:53:44,831 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:53:44,831 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:53:44,836 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:53:44,836 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:53:44,836 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:53:44,837 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:44,837 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:44,838 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3842409802095 on primary SCM
2021-08-06 01:53:44,839 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:53:44,840 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-08-06 01:53:44,841 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:44,843 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:53:44,844 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:44,846 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:44,846 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:53:44,847 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:44,848 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:53:44,848 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:53:44,873 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:53:44,873 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:53:44,873 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:53:44,878 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,879 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:44,880 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:44,880 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:44,880 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:44,880 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,880 [Listener at 0.0.0.0/9860] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:53:44,918 [Listener at 0.0.0.0/9860] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 37 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:53:44,919 [Listener at 0.0.0.0/9860] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:53:44,921 [pool-120-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:44,922 [pool-120-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:44,925 [pool-120-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214824925,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:44,926 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file om.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:44,926 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:53:44,927 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,928 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:44,929 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:44,929 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:45,049 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-08-06 01:53:45,050 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-08-06 01:53:45,050 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4084)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-08-06 01:53:45,051 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:45,051 [Listener at 0.0.0.0/9860] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:53:45,051 [Listener at 0.0.0.0/9860] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:53:45,051 [Listener at 0.0.0.0/9860] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:53:45,051 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:45,053 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:53:45,053 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:53:45,055 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:53:45,055 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:53:45,056 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:53:45,056 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:45,056 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:53:45,060 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:45,061 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:45,061 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:53:45,061 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:45,061 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:53:45,061 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:53:45,062 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:53:45,063 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:45,063 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:45,063 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4830200107621932320/junit981606760596402449/scm-meta/ratis] (custom)
2021-08-06 01:53:45,067 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@2a113e29[Not completed]
2021-08-06 01:53:45,067 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:53:45,068 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:45,069 [pool-154-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:53:45,075 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:53:45,075 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4830200107621932320/junit981606760596402449/scm-meta/ratis] (custom)
2021-08-06 01:53:45,076 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:53:45,077 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:53:45,077 [pool-154-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /tmp/junit4830200107621932320/junit981606760596402449/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-08-06 01:53:45,080 [pool-154-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /tmp/junit4830200107621932320/junit981606760596402449/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 22126@fv-az291-799
2021-08-06 01:53:45,081 [pool-154-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /tmp/junit4830200107621932320/junit981606760596402449/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-08-06 01:53:45,081 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit4830200107621932320/junit981606760596402449/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:53:45,082 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-08-06 01:53:45,083 [pool-154-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:45,084 [pool-154-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:45,091 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-08-06 01:53:45,091 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-08-06 01:53:45,092 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-08-06 01:53:45,092 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-08-06 01:53:45,092 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-08-06 01:53:45,092 [pool-154-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-08-06 01:53:45,101 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4290)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-08-06 01:53:45,103 [Listener at localhost/1202] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-ozonemanager.properties,hadoop-metrics2.properties
2021-08-06 01:53:45,104 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-08-06 01:53:45,104 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - OzoneManager metrics system started
2021-08-06 01:53:45,119 [Listener at localhost/1202] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-08-06 01:53:45,119 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-08-06 01:53:45,141 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1239)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-08-06 01:53:45,141 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-08-06 01:53:45,145 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-08-06 01:53:45,146 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-08-06 01:53:45,147 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-08-06 01:53:45,148 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:53:45,156 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-08-06 01:53:45,159 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-08-06 01:53:45,161 [Listener at localhost/1202] ERROR om.OzoneManager (OzoneManager.java:startSecretManager(843)) - Unable to read key pair for OM.
org.apache.hadoop.hdds.security.OzoneSecurityException: Error reading keypair & certificate
	at org.apache.hadoop.hdds.security.x509.certificate.client.CertificateClient.assertValidKeysAndCertificate(CertificateClient.java:290)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManager(OzoneManager.java:841)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManagerIfNecessary(OzoneManager.java:1661)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1251)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSecureOmInitializationSuccess(TestSecureOzoneCluster.java:458)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at java.util.Objects.requireNonNull(Objects.java:203)
	at org.apache.hadoop.hdds.security.x509.certificate.client.CertificateClient.assertValidKeysAndCertificate(CertificateClient.java:286)
	... 19 more
2021-08-06 01:53:45,163 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:53:45,163 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@c474d7d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-08-06 01:53:46,163 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:53:46,163 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:53:46,163 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:53:46,163 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:53:46,164 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:53:46,164 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:53:46,164 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:53:46,164 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:53:46,164 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:53:47,828 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:53:47,828 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:53:47,828 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:53:47,828 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:53:47,829 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:53:47,829 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:53:47,829 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:53:47,829 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:53:47,829 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1384)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1382)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:47,829 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:53:47,830 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:53:47,830 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:53:47,831 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:53:47,831 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:47,831 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:53:47,831 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:53:47,831 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:53:47,831 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:53:47,832 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:53:47,832 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:47,832 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:47,833 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-08-06 01:53:47,834 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - om1@group-C5BA1605619E: shutdown
2021-08-06 01:53:47,835 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:53:47,835 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-08-06 01:53:47,835 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - om1@group-C5BA1605619E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-08-06 01:53:47,835 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-08-06 01:53:47,838 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = -1
2021-08-06 01:53:47,838 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: -1
2021-08-06 01:53:47,842 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-08-06 01:53:47,842 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-08-06 01:53:47,843 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-08-06 01:53:47,845 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-08-06 01:53:47,845 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@c474d7d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-08-06 01:53:47,845 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:53:47,845 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:53:47,845 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:53:47,875 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:53:47,875 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:53:47,876 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:53:47,876 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:53:47,876 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:53:47,876 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:53:47,877 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:53:47,878 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:53:47,878 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:53:47,878 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:53:47,881 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:53:48,010 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:48,012 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:48,012 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:48,012 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:48,012 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:48,013 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:48,013 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:53:48,058 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 43 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:53:48,058 [Time-limited test] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:53:48,063 [pool-156-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:48,063 [pool-156-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:48,069 [pool-156-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214828069,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:48,071 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file om.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:48,071 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:53:48,071 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:48,073 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:48,073 [Time-limited test] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:48,073 [Time-limited test] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:48,190 [Time-limited test] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-08-06 01:53:48,191 [Time-limited test] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-08-06 01:53:48,192 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4084)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-08-06 01:53:48,192 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:48,192 [Time-limited test] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:53:48,193 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:48,197 [Time-limited test] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:53:48,197 [Time-limited test] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:53:48,198 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:53:48,198 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:53:48,198 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:53:48,198 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:48,198 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:53:48,198 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:48,198 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:48,198 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:53:48,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:48,199 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:53:48,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:53:48,200 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:53:48,200 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:48,200 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:48,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit7982975141046346397/junit2599390263621021919/om-meta/ratis] (custom)
2021-08-06 01:53:48,201 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@4aaef5b9[Not completed]
2021-08-06 01:53:48,201 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:53:48,201 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:53:48,201 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit7982975141046346397/junit2599390263621021919/om-meta/ratis] (custom)
2021-08-06 01:53:48,202 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:53:48,203 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:53:48,203 [pool-176-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /tmp/junit7982975141046346397/junit2599390263621021919/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-08-06 01:53:48,204 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:48,205 [pool-176-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /tmp/junit7982975141046346397/junit2599390263621021919/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 22126@fv-az291-799
2021-08-06 01:53:48,206 [pool-176-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /tmp/junit7982975141046346397/junit2599390263621021919/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-08-06 01:53:48,207 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-08-06 01:53:48,207 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-08-06 01:53:48,207 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-08-06 01:53:48,207 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:48,207 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit7982975141046346397/junit2599390263621021919/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-08-06 01:53:48,208 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-08-06 01:53:48,209 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-08-06 01:53:48,209 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-08-06 01:53:48,209 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-08-06 01:53:48,212 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:53:48,213 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-08-06 01:53:48,213 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-08-06 01:53:48,213 [pool-176-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:48,213 [pool-176-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:48,215 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-08-06 01:53:48,216 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-08-06 01:53:48,216 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-08-06 01:53:48,216 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-08-06 01:53:48,216 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-08-06 01:53:48,216 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-08-06 01:53:48,366 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4290)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-08-06 01:53:48,366 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-08-06 01:53:48,380 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1239)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-08-06 01:53:48,380 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-08-06 01:53:48,380 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-08-06 01:53:48,381 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-08-06 01:53:48,381 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-08-06 01:53:48,383 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:53:48,385 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-08-06 01:53:48,386 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-08-06 01:53:48,388 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(859)) - Starting OM delegation token secret manager
2021-08-06 01:53:48,388 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-08-06 01:53:48,389 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@fbce4d0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-08-06 01:53:48,390 [Thread[Thread-1044,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-08-06 01:53:48,391 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1257)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-08-06 01:53:48,394 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-08-06 01:53:48,394 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-08-06 01:53:48,396 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-08-06 01:53:48,396 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-08-06 01:53:48,397 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-08-06 01:53:48,398 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-08-06 01:53:48,398 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-08-06 01:53:48,398 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-08-06 01:53:48,400 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1239)) - Jetty bound to port 9874
2021-08-06 01:53:48,400 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-08-06 01:53:48,402 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-08-06 01:53:48,402 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-08-06 01:53:48,402 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-08-06 01:53:48,407 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@7137b831{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-08-06 01:53:48,407 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@246c2668{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-08-06 01:53:48,411 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@487e890a{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-08-06 01:53:48,415 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@283ebc90{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-08-06 01:53:48,416 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @24903ms
2021-08-06 01:53:48,416 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-08-06 01:53:48,416 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-08-06 01:53:48,417 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:48,417 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 1202: starting
2021-08-06 01:53:48,431 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1500)) - Trash Interval set to 0. Files deleted will not move to trash
2021-08-06 01:53:48,444 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@57d425b7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-08-06 01:53:48,680 [pool-156-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1628214828680,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net for om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM
2021-08-06 01:53:48,692 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.44:41733
2021-08-06 01:53:50,736 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.createNotLeaderException(OzoneManagerRatisUtils.java:421)
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.checkLeaderStatus(OzoneManagerRatisUtils.java:407)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.checkLeaderStatus(OzoneManagerProtocolServerSideTranslatorPB.java:240)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:135)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-08-06 01:53:53,474 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5092829516ns, electionTimeout:5089ms
2021-08-06 01:53:53,475 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-08-06 01:53:53,476 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-08-06 01:53:53,478 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-08-06 01:53:53,478 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection1
2021-08-06 01:53:53,489 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-08-06 01:53:53,490 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: result PASSED (term=1)
2021-08-06 01:53:53,490 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection1
2021-08-06 01:53:53,491 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-08-06 01:53:53,491 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5284ms
2021-08-06 01:53:53,496 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-08-06 01:53:53,501 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-08-06 01:53:53,501 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:53:53,507 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-08-06 01:53:53,507 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-08-06 01:53:53,508 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-08-06 01:53:53,513 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-08-06 01:53:53,537 [om1@group-C5BA1605619E-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-08-06 01:53:53,576 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-08-06 01:53:53,641 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit7982975141046346397/junit2599390263621021919/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-08-06 01:53:53,726 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:9872"
]
2021-08-06 01:53:54,982 [OM StateMachine ApplyTransaction Thread - 0] INFO  security.S3RevokeSecretRequest (S3RevokeSecretRequest.java:validateAndUpdateCache(146)) - Secret for om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM is revoked.
2021-08-06 01:53:54,996 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:54,996 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:55,006 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 1202
2021-08-06 01:53:55,006 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:53:55,007 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-08-06 01:53:55,007 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - om1@group-C5BA1605619E: shutdown
2021-08-06 01:53:55,007 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:53:55,008 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-08-06 01:53:55,008 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-08-06 01:53:55,012 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-08-06 01:53:55,013 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-08-06 01:53:55,013 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-08-06 01:53:55,014 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-08-06 01:53:55,014 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-08-06 01:53:55,014 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-08-06 01:53:55,014 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-08-06 01:53:55,015 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-08-06 01:53:55,016 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-08-06 01:53:55,017 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-08-06 01:53:55,017 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@fbce4d0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-08-06 01:53:55,017 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:53:55,017 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:53:55,017 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-08-06 01:53:55,018 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:53:55,018 [Thread[Thread-1044,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:53:55,019 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@487e890a{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-08-06 01:53:55,020 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@283ebc90{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-08-06 01:53:55,020 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-08-06 01:53:55,021 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@246c2668{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-08-06 01:53:55,021 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@7137b831{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-08-06 01:53:55,023 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:53:56,023 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:53:56,023 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:53:56,023 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:53:56,024 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:53:56,051 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:53:56,051 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:53:56,051 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:53:56,051 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:53:56,051 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:53:56,051 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:53:56,052 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:53:56,054 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:53:56,262 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,263 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:53:56,263 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:53:56,263 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:53:56,263 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:53:56,463 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:53:56,547 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:56,547 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:56,547 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:56,547 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:56,552 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:53:56,552 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:53:56,552 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:53:56,552 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:53:56,553 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:2f6746a1-9496-45bb-9ad1-f2ed1448b475,clusterId:b93e1043-6a7a-45e3-bc26-52c292cce1ce,subject:scm-sub@fv-az291-799
2021-08-06 01:53:56,563 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:53:56,568 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:53:56,569 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:53:56,570 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,570 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:53:56,615 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 43 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:53:56,617 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/scm/sub-ca/certs.
2021-08-06 01:53:56,618 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/scm/sub-ca/certs/3854293359834.crt.
2021-08-06 01:53:56,620 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:53:56,622 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:53:56,625 [pool-178-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:56,625 [pool-178-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:56,637 [pool-178-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214836637,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:56,640 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:56,640 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:53:56,640 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,641 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,717 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:53:56,717 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:53:56,732 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:53:56,732 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:53:56,732 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:53:56,732 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:53:56,735 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:53:56,736 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:53:56,736 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:53:56,737 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:53:56,737 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:53:56,737 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:53:56,744 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:53:56,745 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:53:56,745 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:53:56,745 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:53:56,752 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:53:56,752 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:53:56,752 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:53:56,756 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:56,756 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:53:56,757 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3854293359834 on primary SCM
2021-08-06 01:53:56,758 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:53:56,759 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:56,764 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-08-06 01:53:56,764 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:53:56,766 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:56,766 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:53:56,768 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:56,768 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:53:56,769 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:56,770 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:53:56,790 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:53:56,790 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:53:56,790 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:53:56,791 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,792 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:53:56,792 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:53:56,793 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:53:56,793 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:53:56,793 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,793 [Listener at 0.0.0.0/9860] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:53:56,830 [Listener at 0.0.0.0/9860] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 36 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:53:56,831 [Listener at 0.0.0.0/9860] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:53:56,835 [pool-178-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:56,835 [pool-178-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:56,839 [pool-178-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214836839,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:56,840 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file om.keytab. Keytab auto renewal enabled : false
2021-08-06 01:53:56,840 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:53:56,840 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,842 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:53:56,843 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:56,843 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:53:56,976 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-08-06 01:53:56,976 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-08-06 01:53:56,977 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4084)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-08-06 01:53:56,978 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:56,978 [Listener at 0.0.0.0/9860] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:53:56,978 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:53:56,980 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:53:56,980 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:53:56,983 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:53:56,988 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:53:56,988 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:53:56,988 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:56,988 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:53:56,988 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:56,988 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:53:56,989 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:53:56,989 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:56,989 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:53:56,989 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:53:56,990 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:53:56,991 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:56,991 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:56,991 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/ratis] (custom)
2021-08-06 01:53:56,996 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@5c6ec599[Not completed]
2021-08-06 01:53:56,996 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:53:56,998 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:53:56,997 [pool-212-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:53:57,003 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:53:57,003 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:53:57,003 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:53:57,003 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:53:57,003 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:53:57,003 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:53:57,004 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:53:57,004 [pool-212-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:53:57,004 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/ratis] (custom)
2021-08-06 01:53:57,004 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:53:57,004 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:53:57,004 [pool-212-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-08-06 01:53:57,006 [pool-212-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 22126@fv-az291-799
2021-08-06 01:53:57,009 [pool-212-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-08-06 01:53:57,009 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-08-06 01:53:57,009 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-08-06 01:53:57,009 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-08-06 01:53:57,009 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:53:57,010 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-08-06 01:53:57,011 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-08-06 01:53:57,011 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-08-06 01:53:57,011 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-08-06 01:53:57,011 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-08-06 01:53:57,016 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-08-06 01:53:57,019 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-08-06 01:53:57,019 [pool-212-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:57,027 [pool-212-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-08-06 01:53:57,019 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:53:57,035 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-08-06 01:53:57,035 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-08-06 01:53:57,035 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-08-06 01:53:57,036 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-08-06 01:53:57,036 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-08-06 01:53:57,036 [pool-212-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-08-06 01:53:57,461 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4290)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-08-06 01:53:57,462 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-08-06 01:53:57,475 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1239)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-08-06 01:53:57,475 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-08-06 01:53:57,475 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-08-06 01:53:57,475 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-08-06 01:53:57,475 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-08-06 01:53:57,476 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:53:57,480 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-08-06 01:53:57,483 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-08-06 01:53:57,490 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(859)) - Starting OM delegation token secret manager
2021-08-06 01:53:57,490 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@168a060e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-08-06 01:53:57,490 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-08-06 01:53:57,491 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1257)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-08-06 01:53:57,491 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1257)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-08-06 01:53:57,496 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-08-06 01:53:57,496 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-08-06 01:53:57,497 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-08-06 01:53:57,497 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-08-06 01:53:57,498 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-08-06 01:53:57,499 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-08-06 01:53:57,499 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-08-06 01:53:57,499 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-08-06 01:53:57,500 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1239)) - Jetty bound to port 9874
2021-08-06 01:53:57,500 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-08-06 01:53:57,508 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-08-06 01:53:57,508 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-08-06 01:53:57,508 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-08-06 01:53:57,509 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@62f5bb92{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-08-06 01:53:57,510 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@42dc5ee5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-08-06 01:53:57,513 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@6461b58e{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-08-06 01:53:57,514 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5688f0ef{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-08-06 01:53:57,514 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @34001ms
2021-08-06 01:53:57,514 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-08-06 01:53:57,515 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-08-06 01:53:57,515 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:53:57,519 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 1202: starting
2021-08-06 01:53:57,537 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1500)) - Trash Interval set to 0. Files deleted will not move to trash
2021-08-06 01:53:57,537 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@74aaa765] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-08-06 01:53:57,540 [pool-178-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:53:57,540 [pool-178-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:53:57,547 [pool-178-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214837547,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:53:57,561 [pool-178-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1628214837560,test for om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM
2021-08-06 01:53:57,567 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 127.0.0.1:58240
2021-08-06 01:53:59,579 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.createNotLeaderException(OzoneManagerRatisUtils.java:421)
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.checkLeaderStatus(OzoneManagerRatisUtils.java:407)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.checkLeaderStatus(OzoneManagerProtocolServerSideTranslatorPB.java:240)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:135)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-08-06 01:54:02,657 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5181324759ns, electionTimeout:5177ms
2021-08-06 01:54:02,657 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-08-06 01:54:02,657 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-08-06 01:54:02,657 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-08-06 01:54:02,657 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection2
2021-08-06 01:54:02,661 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-08-06 01:54:02,662 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection2 ELECTION round 0: result PASSED (term=1)
2021-08-06 01:54:02,662 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection2
2021-08-06 01:54:02,662 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-08-06 01:54:02,662 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5652ms
2021-08-06 01:54:02,662 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-08-06 01:54:02,663 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-08-06 01:54:02,663 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:54:02,664 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-08-06 01:54:02,664 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-08-06 01:54:02,664 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-08-06 01:54:02,664 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-08-06 01:54:02,665 [om1@group-C5BA1605619E-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-08-06 01:54:02,678 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-08-06 01:54:02,678 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit6691479148938918091/junit2918799380062749482/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-08-06 01:54:02,680 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:9872"
]
2021-08-06 01:54:03,589 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:vol1 for user:owner1
2021-08-06 01:54:03,608 [Listener at localhost/1202] WARN  ipc.Client (Client.java:run(782)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:179)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:392)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:623)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:414)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:832)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:828)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:828)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:414)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1647)
	at org.apache.hadoop.ipc.Client.call(Client.java:1463)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy46.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy46.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.Hadoop3OmTransport.submitRequest(Hadoop3OmTransport.java:80)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:230)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.listVolume(OzoneManagerProtocolClientSideTranslatorPB.java:434)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.listAllVolumes(OzoneManagerProtocolClientSideTranslatorPB.java:423)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.lambda$testAccessControlExceptionOnClient$5(TestSecureOzoneCluster.java:511)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testAccessControlExceptionOnClient(TestSecureOzoneCluster.java:510)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:54:03,610 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:54:04,610 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:54:04,610 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:54:04,610 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:54:04,610 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:54:04,610 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:54:04,610 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:54:04,610 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:54:04,611 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:54:04,611 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:54:05,733 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:54:05,733 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:54:05,733 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:54:05,734 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:54:05,734 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:54:05,734 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:54:05,734 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:54:05,734 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:54:05,734 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1384)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1382)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:54:05,734 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:54:05,734 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:54:05,735 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:54:05,735 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:54:05,735 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:05,735 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:05,735 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:54:05,736 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:54:05,737 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:54:05,737 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:54:05,738 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:54:05,738 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:54:05,743 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:54:05,743 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-08-06 01:54:05,743 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - om1@group-C5BA1605619E: shutdown
2021-08-06 01:54:05,744 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:54:05,744 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-08-06 01:54:05,744 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-08-06 01:54:05,747 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 1202
2021-08-06 01:54:05,753 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 2
2021-08-06 01:54:05,754 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:2)
2021-08-06 01:54:05,754 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 2
2021-08-06 01:54:05,754 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
2021-08-06 01:54:05,754 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-08-06 01:54:05,754 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 2
2021-08-06 01:54:05,754 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-08-06 01:54:05,755 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-08-06 01:54:05,756 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-08-06 01:54:05,756 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-08-06 01:54:05,756 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@168a060e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-08-06 01:54:05,757 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:54:05,757 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:54:05,757 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-08-06 01:54:05,757 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:54:05,758 [Thread[Thread-1181,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:54:05,758 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@6461b58e{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-08-06 01:54:05,759 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5688f0ef{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-08-06 01:54:05,759 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-08-06 01:54:05,759 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@42dc5ee5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-08-06 01:54:05,759 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@62f5bb92{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-08-06 01:54:05,782 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:54:05,782 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:54:05,782 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:54:05,782 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:54:05,782 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:54:05,782 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:54:05,782 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:54:05,782 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:54:05,783 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:54:05,785 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:54:05,852 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:05,852 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:54:05,853 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:54:05,853 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:54:05,853 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:54:06,110 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:54:06,310 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:06,310 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:06,310 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:06,310 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:06,315 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:06,315 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:06,315 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:06,315 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:06,315 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:0c272122-ccba-4262-8ae8-b55b9130079d,clusterId:d6fb5e46-e57d-471f-9c33-fcd9ffa087b1,subject:scm-sub@fv-az291-799
2021-08-06 01:54:06,325 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:54:06,327 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:54:06,328 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:54:06,328 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:06,329 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:54:06,365 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 35 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:54:06,367 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit8454026294423608783/junit5572076472518684203/scm-meta/scm/sub-ca/certs.
2021-08-06 01:54:06,368 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit8454026294423608783/junit5572076472518684203/scm-meta/scm/sub-ca/certs/3864055556286.crt.
2021-08-06 01:54:06,370 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit8454026294423608783/junit5572076472518684203/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:54:06,372 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit8454026294423608783/junit5572076472518684203/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:54:06,374 [pool-215-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:54:06,374 [pool-215-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:54:06,386 [pool-215-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214846386,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:54:06,389 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:54:06,389 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:54:06,389 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:06,390 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:06,463 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:54:06,463 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:54:06,466 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:54:06,466 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:54:06,466 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:54:06,466 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:54:06,467 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:54:06,468 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:54:06,468 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:54:06,469 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:54:06,469 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:54:06,469 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:54:06,472 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:54:06,473 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:54:06,473 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:54:06,473 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:54:06,474 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:54:06,475 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:54:06,475 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:54:06,476 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:54:06,476 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:54:06,477 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3864055556286 on primary SCM
2021-08-06 01:54:06,478 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:54:06,479 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:06,483 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-08-06 01:54:06,484 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:54:06,485 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:06,488 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:54:06,489 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:06,491 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:54:06,493 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:06,499 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:54:06,522 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:54:06,522 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:54:06,522 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:54:06,526 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:54:07,526 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:54:07,527 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:54:09,467 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:54:09,467 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:54:09,467 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:54:09,467 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1384)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1382)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:09,468 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:09,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:54:09,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:54:09,469 [Listener at 0.0.0.0/9860] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:54:09,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:54:09,488 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:54:09,488 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:54:09,488 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:54:09,488 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:54:09,488 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:54:09,488 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:54:09,488 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:54:09,488 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:54:09,489 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:54:09,495 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:54:09,748 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:09,748 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:54:09,748 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:54:09,748 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:54:09,748 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:54:09,959 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:54:09,990 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:09,991 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:09,991 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:09,991 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:09,995 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:09,995 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:09,995 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:09,995 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:09,996 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:01a9069b-5761-43b7-9bbe-7348977f8de8,clusterId:7d4c51f7-1657-41b7-ae68-3a100c65493d,subject:scm-sub@fv-az291-799
2021-08-06 01:54:10,006 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:54:10,008 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:54:10,008 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:54:10,009 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,009 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:54:10,054 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 43 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:54:10,055 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit5952235255788093261/junit268316547564475547/scm-meta/scm/sub-ca/certs.
2021-08-06 01:54:10,057 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit5952235255788093261/junit268316547564475547/scm-meta/scm/sub-ca/certs/3867736302085.crt.
2021-08-06 01:54:10,059 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit5952235255788093261/junit268316547564475547/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:54:10,060 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit5952235255788093261/junit268316547564475547/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:54:10,091 [pool-230-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:54:10,091 [pool-230-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:54:10,094 [pool-230-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214850094,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:54:10,096 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:54:10,096 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:54:10,096 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,097 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,171 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:54:10,171 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:54:10,175 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:54:10,175 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:54:10,175 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:54:10,175 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:54:10,176 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:54:10,177 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:54:10,177 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:54:10,177 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:54:10,177 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:54:10,177 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:54:10,180 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:54:10,180 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:54:10,180 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:54:10,181 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:54:10,183 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:54:10,183 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:54:10,183 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:54:10,184 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:54:10,185 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-08-06 01:54:10,185 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:54:10,186 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3867736302085 on primary SCM
2021-08-06 01:54:10,186 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:54:10,187 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:10,188 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:54:10,189 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:10,190 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:54:10,191 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:10,194 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:54:10,197 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:10,197 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:54:10,217 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:54:10,217 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:54:10,217 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:54:10,218 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,219 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:54:10,219 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:54:10,219 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:54:10,220 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:54:10,220 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,220 [Listener at 0.0.0.0/9860] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:54:10,261 [Listener at 0.0.0.0/9860] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 40 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:54:10,261 [Listener at 0.0.0.0/9860] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:54:10,277 [pool-230-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:54:10,277 [pool-230-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:54:10,283 [pool-230-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214850281,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:54:10,285 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file om.keytab. Keytab auto renewal enabled : false
2021-08-06 01:54:10,285 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:54:10,285 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,286 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,287 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:54:10,287 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:54:10,396 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-08-06 01:54:10,396 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-08-06 01:54:10,397 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4084)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-08-06 01:54:10,397 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:54:10,398 [Listener at 0.0.0.0/9860] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:54:10,398 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:54:10,399 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:54:10,399 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:54:10,400 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:54:10,401 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:54:10,401 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:54:10,401 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:54:10,402 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:54:10,403 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:54:10,403 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:54:10,403 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit5952235255788093261/junit268316547564475547/scm-meta/ratis] (custom)
2021-08-06 01:54:10,406 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@72324aa9[Not completed]
2021-08-06 01:54:10,406 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:54:10,408 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:10,408 [pool-264-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:54:10,409 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:54:10,419 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit5952235255788093261/junit268316547564475547/scm-meta/ratis] (custom)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:54:10,420 [pool-264-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /tmp/junit5952235255788093261/junit268316547564475547/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-08-06 01:54:10,422 [pool-264-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /tmp/junit5952235255788093261/junit268316547564475547/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 22126@fv-az291-799
2021-08-06 01:54:10,423 [pool-264-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /tmp/junit5952235255788093261/junit268316547564475547/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-08-06 01:54:10,423 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-08-06 01:54:10,423 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-08-06 01:54:10,423 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-08-06 01:54:10,423 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit5952235255788093261/junit268316547564475547/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:54:10,424 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-08-06 01:54:10,425 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-08-06 01:54:10,425 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-08-06 01:54:10,425 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-08-06 01:54:10,425 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-08-06 01:54:10,426 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-08-06 01:54:10,426 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-08-06 01:54:10,427 [pool-264-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-08-06 01:54:10,436 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:54:10,436 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:54:10,436 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:54:10,436 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:54:10,437 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,437 [Listener at localhost/1202] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:54:10,466 [Listener at localhost/1202] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 29 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:54:10,467 [Listener at localhost/1202] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:54:10,468 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:54:10,468 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:54:10,468 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:54:10,468 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:54:10,468 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,468 [Listener at localhost/1202] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:54:10,497 [Listener at localhost/1202] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 28 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:54:10,498 [Listener at localhost/1202] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:54:10,498 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:54:10,498 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:54:10,498 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:54:10,498 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:54:10,498 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:10,499 [Listener at localhost/1202] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:54:10,529 [Listener at localhost/1202] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 30 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:54:10,530 [Listener at localhost/1202] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:54:10,531 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:54:11,531 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:54:11,531 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:54:11,531 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:54:11,531 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:54:11,532 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:54:11,532 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:54:11,532 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:54:11,532 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:54:11,532 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:54:13,176 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:54:13,176 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:54:13,177 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:54:13,177 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:54:13,177 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:54:13,177 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:54:13,177 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:54:13,178 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:54:13,178 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1384)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1382)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:54:13,178 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:54:13,178 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:54:13,179 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:54:13,179 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:54:13,179 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:13,179 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:13,179 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:54:13,180 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:54:13,180 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:54:13,180 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:54:13,181 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:54:13,181 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:54:13,181 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:54:13,181 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:54:13,185 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:54:13,205 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:54:13,205 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:54:13,205 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:54:13,205 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:54:13,205 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:54:13,205 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:54:13,206 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:54:13,207 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:54:13,207 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:54:13,207 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:54:13,208 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:54:13,510 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:13,512 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-08-06 01:54:13,512 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-08-06 01:54:13,513 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-08-06 01:54:13,513 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-08-06 01:54:13,513 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:13,513 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-08-06 01:54:13,543 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 28 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-08-06 01:54:13,543 [Time-limited test] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(116)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-08-06 01:54:13,548 [pool-268-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:54:13,549 [pool-268-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:54:13,563 [pool-268-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214853562,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:54:13,564 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file om.keytab. Keytab auto renewal enabled : false
2021-08-06 01:54:13,564 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(905)) - Ozone Manager login successful.
2021-08-06 01:54:13,568 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:13,570 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:13,570 [Time-limited test] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-08-06 01:54:13,571 [Time-limited test] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-08-06 01:54:13,680 [Time-limited test] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-08-06 01:54:13,680 [Time-limited test] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-08-06 01:54:13,700 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4084)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-08-06 01:54:13,700 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:54:13,701 [Time-limited test] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-08-06 01:54:13,701 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:54:13,701 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-08-06 01:54:13,701 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-08-06 01:54:13,702 [Time-limited test] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:9872
2021-08-06 01:54:13,703 [Time-limited test] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-08-06 01:54:13,704 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-08-06 01:54:13,705 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-08-06 01:54:13,705 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-08-06 01:54:13,705 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:54:13,705 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-08-06 01:54:13,705 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:54:13,705 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-08-06 01:54:13,706 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-08-06 01:54:13,706 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:54:13,706 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-08-06 01:54:13,706 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-08-06 01:54:13,710 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-08-06 01:54:13,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:54:13,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:54:13,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit3460641360281663624/junit7422643284993948923/om-meta/ratis] (custom)
2021-08-06 01:54:13,711 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@68f8596e[Not completed]
2021-08-06 01:54:13,711 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-08-06 01:54:13,711 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1542)) - OzoneManager Ratis server initialized at port 9872
2021-08-06 01:54:13,711 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-08-06 01:54:13,711 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-08-06 01:54:13,712 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-08-06 01:54:13,712 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-08-06 01:54:13,712 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-08-06 01:54:13,712 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-08-06 01:54:13,712 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-08-06 01:54:13,712 [pool-288-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-08-06 01:54:13,712 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit3460641360281663624/junit7422643284993948923/om-meta/ratis] (custom)
2021-08-06 01:54:13,713 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:13,713 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 1202
2021-08-06 01:54:13,719 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-08-06 01:54:13,719 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-08-06 01:54:13,719 [pool-288-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /tmp/junit3460641360281663624/junit7422643284993948923/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-08-06 01:54:13,722 [pool-288-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /tmp/junit3460641360281663624/junit7422643284993948923/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 22126@fv-az291-799
2021-08-06 01:54:13,723 [pool-288-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /tmp/junit3460641360281663624/junit7422643284993948923/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-08-06 01:54:13,723 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-08-06 01:54:13,723 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-08-06 01:54:13,723 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit3460641360281663624/junit7422643284993948923/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-08-06 01:54:13,733 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-08-06 01:54:13,734 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-08-06 01:54:13,734 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-08-06 01:54:13,734 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-08-06 01:54:13,734 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-08-06 01:54:13,734 [pool-288-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-08-06 01:54:13,734 [pool-288-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-08-06 01:54:13,738 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-08-06 01:54:13,738 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-08-06 01:54:13,739 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-08-06 01:54:13,739 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-08-06 01:54:13,739 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-08-06 01:54:13,739 [pool-288-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-08-06 01:54:13,766 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4290)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-08-06 01:54:13,767 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-08-06 01:54:13,782 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1239)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-08-06 01:54:13,782 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-08-06 01:54:13,782 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-08-06 01:54:13,783 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-08-06 01:54:13,783 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-08-06 01:54:13,783 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:54:13,787 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-08-06 01:54:13,788 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-08-06 01:54:13,788 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(859)) - Starting OM delegation token secret manager
2021-08-06 01:54:13,788 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-08-06 01:54:13,789 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@4ead3ff7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-08-06 01:54:13,789 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1257)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-08-06 01:54:13,790 [Thread[Thread-1340,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-08-06 01:54:13,796 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-08-06 01:54:13,796 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-08-06 01:54:13,798 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-08-06 01:54:13,798 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-08-06 01:54:13,799 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-08-06 01:54:13,800 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-08-06 01:54:13,800 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-08-06 01:54:13,800 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-08-06 01:54:13,801 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1239)) - Jetty bound to port 9874
2021-08-06 01:54:13,801 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-08-06 01:54:13,816 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-08-06 01:54:13,816 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-08-06 01:54:13,817 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-08-06 01:54:13,818 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@5be946b0{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-08-06 01:54:13,818 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@524554c0{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-08-06 01:54:13,822 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@65e40115{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-08-06 01:54:13,823 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6a884627{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-08-06 01:54:13,823 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @50310ms
2021-08-06 01:54:13,823 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-08-06 01:54:13,824 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-08-06 01:54:13,824 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:54:13,824 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 1202: starting
2021-08-06 01:54:13,840 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1500)) - Trash Interval set to 0. Files deleted will not move to trash
2021-08-06 01:54:13,840 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2890821c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-08-06 01:54:13,850 [pool-268-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1628214853849,om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net for om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM
2021-08-06 01:54:13,863 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.44:37975
2021-08-06 01:54:15,876 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.createNotLeaderException(OzoneManagerRatisUtils.java:421)
	at org.apache.hadoop.ozone.om.ratis.utils.OzoneManagerRatisUtils.checkLeaderStatus(OzoneManagerRatisUtils.java:407)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.checkLeaderStatus(OzoneManagerProtocolServerSideTranslatorPB.java:240)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:135)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-08-06 01:54:18,865 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5082496580ns, electionTimeout:5082ms
2021-08-06 01:54:18,866 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-08-06 01:54:18,866 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-08-06 01:54:18,866 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-08-06 01:54:18,866 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection3
2021-08-06 01:54:18,868 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-08-06 01:54:18,869 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection3 ELECTION round 0: result PASSED (term=1)
2021-08-06 01:54:18,869 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection3
2021-08-06 01:54:18,869 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-08-06 01:54:18,869 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5145ms
2021-08-06 01:54:18,869 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-08-06 01:54:18,869 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-08-06 01:54:18,869 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-08-06 01:54:18,870 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-08-06 01:54:18,870 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-08-06 01:54:18,870 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-08-06 01:54:18,870 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-08-06 01:54:18,870 [om1@group-C5BA1605619E-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-08-06 01:54:18,876 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-08-06 01:54:18,877 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit3460641360281663624/junit7422643284993948923/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-08-06 01:54:18,879 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:9872"
]
2021-08-06 01:54:20,944 [IPC Server handler 8 on default port 1202] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1870)) - Delegation token renewal failed for dt id: OzoneToken owner=om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=2021-08-06T01:54:20.937Z, maxDate=2021-08-06T01:54:21.937Z, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault, cause: om tries to renew a token (OzoneToken owner=om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=2021-08-06T01:54:20.937Z, maxDate=2021-08-06T01:54:21.937Z, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault) with non-matching renewer randomService
2021-08-06 01:54:20,978 [IPC Server handler 10 on default port 1202] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1870)) - Delegation token renewal failed for dt id: OzoneToken owner=om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=om, realUser=, issueDate=2021-08-06T01:54:19.881Z, maxDate=2073-03-11T03:48:41.950Z, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault, cause: token (OzoneToken owner=om/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=om, realUser=, issueDate=2021-08-06T01:54:19.881Z, maxDate=2073-03-11T03:48:41.950Z, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault) can't be found in cache
2021-08-06 01:54:20,979 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:54:20,980 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:54:20,984 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:54:20,984 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-08-06 01:54:20,985 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - om1@group-C5BA1605619E: shutdown
2021-08-06 01:54:20,985 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-08-06 01:54:20,985 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-08-06 01:54:20,984 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 1202
2021-08-06 01:54:20,985 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-08-06 01:54:20,987 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 6
2021-08-06 01:54:20,987 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:6)
2021-08-06 01:54:20,988 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 6
2021-08-06 01:54:20,988 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-08-06 01:54:20,988 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-08-06 01:54:20,988 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 6
2021-08-06 01:54:20,988 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-08-06 01:54:20,989 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-08-06 01:54:20,989 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-08-06 01:54:20,990 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-08-06 01:54:20,990 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$564/207581737@4ead3ff7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-08-06 01:54:20,990 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-08-06 01:54:20,990 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-08-06 01:54:20,990 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-08-06 01:54:20,991 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:54:20,991 [Thread[Thread-1340,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:54:20,993 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@65e40115{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-08-06 01:54:20,994 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6a884627{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-08-06 01:54:20,994 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-08-06 01:54:20,994 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@524554c0{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-08-06 01:54:20,994 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@5be946b0{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-08-06 01:54:20,996 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:54:21,996 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:54:21,996 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stop(1601)) - Stopping Ozone Manager
2021-08-06 01:54:21,997 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 1202
2021-08-06 01:54:21,997 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(829)) - Stopping OM delegation token secret manager.
2021-08-06 01:54:22,019 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:54:22,019 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:54:22,019 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:54:22,019 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:54:22,020 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:54:22,020 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:54:22,020 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:54:22,021 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:54:22,021 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:54:22,021 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:54:22,022 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:54:22,165 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:22,165 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:54:22,165 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:54:22,165 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:54:22,166 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:54:22,210 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:54:22,442 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:22,442 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:22,442 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:22,442 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:22,447 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:22,447 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:22,447 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:22,447 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:22,447 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:32829ffb-9b83-46c0-8333-0ed774d0a596,clusterId:78e31bad-d841-46c3-9a10-3e9f413fe1dc,subject:scm-sub@fv-az291-799
2021-08-06 01:54:22,457 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:54:22,459 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:54:22,459 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:54:22,460 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:22,460 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:54:22,496 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 35 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:54:22,498 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs.
2021-08-06 01:54:22,499 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/3880187388779.crt.
2021-08-06 01:54:22,501 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:54:22,502 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:54:22,503 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:54:22,503 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:54:22,504 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:22,504 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:54:22,538 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 33 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:54:22,540 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs.
2021-08-06 01:54:22,542 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/3880187388779.crt.
2021-08-06 01:54:22,543 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:54:22,545 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:54:22,545 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:54:22,546 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:54:22,546 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:22,547 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:54:22,582 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 33 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:54:22,583 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs.
2021-08-06 01:54:22,585 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/3880187388779.crt.
2021-08-06 01:54:22,586 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:54:22,588 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:54:22,588 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:54:22,588 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:54:22,589 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:22,589 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:54:22,622 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 32 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:54:22,623 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs.
2021-08-06 01:54:22,625 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/3880187388779.crt.
2021-08-06 01:54:22,627 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:54:22,628 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1479032398809200498/junit6570592549184093390/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:54:22,628 [Time-limited test] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:54:23,629 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:54:23,646 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9860
2021-08-06 01:54:23,646 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9861
2021-08-06 01:54:23,646 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9863
2021-08-06 01:54:23,646 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 9961
2021-08-06 01:54:23,646 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1200
2021-08-06 01:54:23,647 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(55)) - Using port 1201
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-08-06 01:54:23,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-08-06 01:54:23,649 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-08-06 01:54:23,729 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:23,730 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-08-06 01:54:23,730 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-08-06 01:54:23,730 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-08-06 01:54:23,730 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-08-06 01:54:23,862 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-08-06 01:54:24,366 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:24,366 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:24,366 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:24,367 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:24,371 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5f:a3db%eth0 not returned.
2021-08-06 01:54:24,371 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.44,host:fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net
2021-08-06 01:54:24,371 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-08-06 01:54:24,371 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-08-06 01:54:24,371 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(278)) - Creating csr for SCM->hostName:fv-az291-799,scmId:49edde4d-ae9b-4dc2-992e-065673fbd79c,clusterId:9b3dadb5-b798-47b5-87a1-a2cdb636fd4c,subject:scm-sub@fv-az291-799
2021-08-06 01:54:24,381 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-08-06 01:54:24,383 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-08-06 01:54:24,383 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-08-06 01:54:24,384 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:24,384 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(70)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-08-06 01:54:24,421 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 35 ms to scan 7 urls, producing 120 keys and 273 values 
2021-08-06 01:54:24,423 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit8245133430461068557/junit3579306368262660985/scm-meta/scm/sub-ca/certs.
2021-08-06 01:54:24,425 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit8245133430461068557/junit3579306368262660985/scm-meta/scm/sub-ca/certs/3882111029708.crt.
2021-08-06 01:54:24,427 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit8245133430461068557/junit3579306368262660985/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-08-06 01:54:24,428 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit8245133430461068557/junit3579306368262660985/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-08-06 01:54:24,431 [pool-292-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:54:24,431 [pool-292-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:54:24,434 [pool-292-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214864434,scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:54:24,437 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1129)) - Login successful for user scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file scm.keytab. Keytab auto renewal enabled : false
2021-08-06 01:54:24,437 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(804)) - SCM login successful.
2021-08-06 01:54:24,437 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:24,438 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-08-06 01:54:24,506 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-08-06 01:54:24,506 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-08-06 01:54:24,509 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-08-06 01:54:24,509 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-08-06 01:54:24,509 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-08-06 01:54:24,509 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-08-06 01:54:24,510 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(145)) - Entering startup safe mode.
2021-08-06 01:54:24,510 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-08-06 01:54:24,510 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-08-06 01:54:24,511 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-08-06 01:54:24,511 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-08-06 01:54:24,511 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-08-06 01:54:24,514 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-08-06 01:54:24,515 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-08-06 01:54:24,515 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-08-06 01:54:24,515 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(286)) - Starting Replication Monitor Thread.
2021-08-06 01:54:24,516 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-08-06 01:54:24,516 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-08-06 01:54:24,517 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-08-06 01:54:24,517 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:54:24,518 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-08-06 01:54:24,518 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(341)) - Replication Monitor Thread took 2 milliseconds for processing 0 containers.
2021-08-06 01:54:24,518 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(716)) - Storing sub-ca certificate serialId 3882111029708 on primary SCM
2021-08-06 01:54:24,519 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(724)) - Storing root certificate serialId 1
2021-08-06 01:54:24,520 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:24,520 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9961
2021-08-06 01:54:24,526 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:24,527 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9861
2021-08-06 01:54:24,528 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:24,533 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9863
2021-08-06 01:54:24,534 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-08-06 01:54:24,535 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 9860
2021-08-06 01:54:24,558 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(380)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-08-06 01:54:24,558 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-08-06 01:54:24,558 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-08-06 01:54:24,559 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1246)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-08-06 01:54:24,559 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-08-06 01:54:24,570 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(165)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-08-06 01:54:24,570 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:54:24,571 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9860: starting
2021-08-06 01:54:24,589 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1261)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-08-06 01:54:24,589 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-08-06 01:54:24,589 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:54:24,590 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9863: starting
2021-08-06 01:54:24,598 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1267)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-08-06 01:54:24,598 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-08-06 01:54:24,598 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:54:24,600 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9861: starting
2021-08-06 01:54:24,615 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(393)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-08-06 01:54:24,615 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-08-06 01:54:24,620 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 9961: starting
2021-08-06 01:54:24,623 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-08-06 01:54:24,627 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@25b69719] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-08-06 01:54:24,628 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-08-06 01:54:24,628 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-08-06 01:54:24,629 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-08-06 01:54:24,630 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-08-06 01:54:24,631 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-08-06 01:54:24,631 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-08-06 01:54:24,631 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-08-06 01:54:24,631 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-08-06 01:54:24,632 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1239)) - Jetty bound to port 9876
2021-08-06 01:54:24,632 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-08-06 01:54:24,635 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-08-06 01:54:24,635 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-08-06 01:54:24,636 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-08-06 01:54:24,636 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@36b87469{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-08-06 01:54:24,637 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6c65d3bd{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-08-06 01:54:24,640 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@1fa39431{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:54:24,642 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@419315de{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:54:24,642 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @61129ms
2021-08-06 01:54:24,642 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-08-06 01:54:24,643 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-08-06 01:54:24,645 [pool-292-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-08-06 01:54:24,645 [pool-292-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-08-06 01:54:24,651 [pool-292-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1628214864650,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-08-06 01:54:24,670 [pool-292-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1628214864670,test for scm/fv-az291-799.wgnan5asplgejimfprtllbpdch.jx.internal.cloudapp.net@EXAMPLE.COM
2021-08-06 01:54:24,684 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:saslProcess(2061)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.44:59818
2021-08-06 01:54:24,806 [IPC Server handler 0 on default port 9860] INFO  ipc.Server (Server.java:logException(3027)) - IPC Server handler 0 on default port 9860, call Call#19 Retry#0 org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocol.submitRequest from 10.1.0.44:59818
org.apache.hadoop.security.AccessControlException: Access denied for user test@EXAMPLE.COM. Superuser privilege is required.
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.checkAdminAccess(StorageContainerManager.java:1585)
	at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer.forceExitSafeMode(SCMClientProtocolServer.java:649)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.forceExitSafeMode(StorageContainerLocationProtocolServerSideTranslatorPB.java:679)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.processRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:299)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.submitRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:169)
	at org.apache.hadoop.hdds.protocol.proto.StorageContainerLocationProtocolProtos$StorageContainerLocationProtocolService$2.callBlockingMethod(StorageContainerLocationProtocolProtos.java:55800)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
2021-08-06 01:54:24,811 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(782)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:179)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:392)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:623)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:414)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:832)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:828)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:828)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:414)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1647)
	at org.apache.hadoop.ipc.Client.call(Client.java:1463)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy43.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.submitRpcRequest(StorageContainerLocationProtocolClientSideTranslatorPB.java:173)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.submitRequest(StorageContainerLocationProtocolClientSideTranslatorPB.java:157)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.forceExitSafeMode(StorageContainerLocationProtocolClientSideTranslatorPB.java:687)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testAdminAccessControlException(TestSecureOzoneCluster.java:360)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-08-06 01:54:24,812 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:54:24,812 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(317)) - Stopping Replication Monitor Thread.
2021-08-06 01:54:24,812 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:54:24,812 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:54:24,812 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:54:24,812 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:54:24,812 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:54:24,823 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9861
2021-08-06 01:54:24,825 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:54:27,510 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-08-06 01:54:27,510 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:54:27,510 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:54:27,510 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:54:27,512 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:54:27,512 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:54:27,513 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:54:27,513 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:54:27,514 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9863
2021-08-06 01:54:27,520 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:54:27,520 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@1fa39431{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-08-06 01:54:27,520 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:54:27,521 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9860
2021-08-06 01:54:27,523 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@419315de{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-08-06 01:54:27,523 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-08-06 01:54:27,524 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6c65d3bd{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-08-06 01:54:27,524 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@36b87469{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-08-06 01:54:27,524 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:54:27,524 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:54:27,525 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 9961
2021-08-06 01:54:27,525 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-08-06 01:54:27,525 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:54:27,526 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(85)) - SCMUpdateService stopped!
2021-08-06 01:54:27,527 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:54:27,527 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:27,527 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:27,527 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:54:27,527 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:54:27,527 [Listener at 0.0.0.0/9860] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-08-06 01:54:27,528 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:54:27,529 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-08-06 01:54:27,532 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-08-06 01:54:27,532 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-08-06 01:54:27,533 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-08-06 01:54:28,533 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-08-06 01:54:28,533 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping Replication Manager Service.
2021-08-06 01:54:28,533 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(327)) - Replication Monitor Thread is not running.
2021-08-06 01:54:28,533 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1345)) - Stopping the Datanode Admin Monitor.
2021-08-06 01:54:28,533 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1352)) - Stopping Lease Manager of the command watchers
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Lease Manager of the command watchers stop failed
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1359)) - Stopping datanode service RPC server
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9861
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1367)) - Stopping block service RPC server
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9863
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1374)) - Stopping the StorageContainerLocationProtocol RPC server
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(174)) - Stopping the RPC server for Client Protocol
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9860
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1381)) - Stopping Storage Container Manager HTTP server.
2021-08-06 01:54:28,534 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(401)) - Stopping the SCMSecurityProtocolServer.
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 9961
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Block Manager Service.
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1419)) - Stopping SCM Event Queue.
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1430)) - Stopping SCM HA services.
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1440)) - Stopping SCM MetadataStore.
2021-08-06 01:54:28,535 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
